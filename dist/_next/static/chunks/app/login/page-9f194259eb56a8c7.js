(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{5695:(e,r,s)=>{"use strict";var a=s(8999);s.o(a,"useRouter")&&s.d(r,{useRouter:function(){return a.useRouter}})},7418:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var a=s(5155),t=s(2115),i=s(6203),l=s(5695),n=s(5317),d=s(9670),o=s(3029);function c(){let[e,r]=(0,t.useState)(""),[s,c]=(0,t.useState)(""),[u,m]=(0,t.useState)(null),[x,h]=(0,t.useState)(!0),b=(0,l.useRouter)(),p=async r=>{r.preventDefault(),m(null);try{if(x)await (0,i.x9)(d.j,e,s);else{let r=await (0,i.eJ)(d.j,e,s);await (0,n.BN)((0,n.H9)(d.db,"users",r.user.uid),{email:e,role:"user",stores:[],canViewOverview:!1})}b.push("/addTransactions")}catch(e){m(e.message)}},f=async()=>{try{let e=new i.HF,r=(await (0,i.df)(d.j,e)).user;(await (0,n.x7)((0,n.H9)((0,n.aU)(),"users",r.uid))).exists()||await (0,n.BN)((0,n.H9)((0,n.aU)(),"users",r.uid),{email:r.email,role:"user",stores:[],canViewOverview:!1}),b.push("/addTransactions")}catch(e){m(e.message)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-primary-50 to-white p-4",children:(0,a.jsx)("div",{className:"w-full max-w-md bg-white rounded-lg shadow-md overflow-hidden border border-gray-200",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:x?"Welcome Back":"Create Account"}),u&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-50 text-red-600 rounded-md text-sm",children:u}),(0,a.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>r(e.target.value),placeholder:"your@email.com",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,a.jsx)("input",{id:"password",type:"password",value:s,onChange:e=>c(e.target.value),placeholder:"••••••••",required:!0,minLength:"6",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,a.jsx)("button",{type:"submit",className:"w-full py-3 px-6 bg-[#22c55e] hover:bg-[#15803d] text-white font-bold rounded-lg transition-colors shadow-md",children:x?"Login to Dashboard":"Create Account"})]}),(0,a.jsxs)("div",{className:"relative my-6",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"OR CONTINUE WITH"})})]}),(0,a.jsxs)("button",{onClick:f,className:"w-full flex items-center justify-center py-2 px-4 border border-gray-300 rounded-md bg-white hover:bg-gray-50 transition-colors mb-4",children:[(0,a.jsx)(o.F4b,{className:"mr-2 text-lg"}),(0,a.jsx)("span",{children:"Google"})]}),(0,a.jsx)("div",{className:"text-center text-sm text-gray-600",children:x?(0,a.jsxs)("p",{children:["New to Freshmart?"," ",(0,a.jsx)("button",{onClick:()=>h(!1),className:"text-primary-600 hover:text-primary-700 font-medium underline",children:"Create an account"})]}):(0,a.jsxs)("p",{children:["Already have an account?"," ",(0,a.jsx)("button",{onClick:()=>h(!0),className:"text-primary-600 hover:text-primary-700 font-medium underline",children:"Sign in instead"})]})})]})})})}},8097:(e,r,s)=>{Promise.resolve().then(s.bind(s,7418))},9670:(e,r,s)=>{"use strict";s.d(r,{db:()=>d,j:()=>n});var a=s(3915),t=s(6203),i=s(5317);let l=(0,a.Wp)({apiKey:"AIzaSyBrhGNzC2JEoYMR34bXv2vwMBQPVNl3NG8",authDomain:"freshmart-tracker.firebaseapp.com",projectId:"freshmart-tracker",storageBucket:"freshmart-tracker.firebasestorage.app",messagingSenderId:"36913606146",appId:"1:36913606146:web:5516b95ff654f02a9fc11b",measurementId:"G-MP5V2Y0VX2"}),n=(0,t.xI)(l),d=(0,i.aU)(l)}},e=>{var r=r=>e(e.s=r);e.O(0,[992,158,753,866,441,684,358],()=>r(8097)),_N_E=e.O()}]);